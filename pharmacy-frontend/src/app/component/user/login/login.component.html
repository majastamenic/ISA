<div *ngIf="!changePassword" class="page">
  <div class="form">
    <form class="ngform" #loginform = "ngForm">
      <h3>Login</h3>
      <input type="email" [(ngModel)]="user.email" placeholder="Enter email" name="email" required #email="ngModel"
      [class.is-invalid] = "email.invalid && email.touched" pattern = "^[\w-\.]+@([\w-]+\.)+[\w-]{2,4}$">
      <div *ngIf="email.errors && (email.invalid && email.touched)">
        <small class="text-danger" *ngIf = "email.errors.required">Email is required field.</small>
        <small class="text-danger" *ngIf = "email.errors.pattern">Enter valid email.</small>
      </div>
      
      <input type="password" [(ngModel)]="user.password" placeholder="Enter Password" name="name" required #password="ngModel"
      [class.is-invalid] = "password.invalid && password.touched">
      <div *ngIf="password.invalid && password.touched">
        <small class="text-danger">Password is required field.</small>
      </div>
      
      <button [disabled]="loginform.form.invalid" (click)="login()" class="btn btn-primary">Login</button>
      </form>
  </div>
</div>

<div *ngIf="changePassword" class="page">
  <div class="form">
    <form class="ngform" #passwordform = "ngForm">
      <h3>Change password</h3>
      <div>
        <input type="password" [(ngModel)]="returnedUser.password" placeholder="Enter new password" name="name" required #password="ngModel"
        [class.is-invalid] = "password.invalid && password.touched" pattern="(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{8,}">
        <div *ngIf="password.errors && (password.invalid && password.touched)">
          <small class="text-danger">Password is required field.</small>
          <small class="text-danger" *ngIf = "password.errors.pattern">Must contain at least one number and one uppercase and lowercase letter, and at least 8 or more characters</small>
        </div>
      </div>

      <div>
        <input type="password" [(ngModel)]="returnedUser.passwordAgain" placeholder="Confirm password" name="name" required #password="ngModel"
        [class.is-invalid] = "password.invalid && password.touched" pattern="(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{8,}">
        <div *ngIf="password.errors && (password.invalid && password.touched)">
            <small class="text-danger">Password is required field.</small>
            <small class="text-danger" *ngIf = "password.errors.pattern">Must contain at least one number and one uppercase and lowercase letter, and at least 8 or more characters</small>
        </div>
      </div>
      
      <button [disabled]="passwordform.form.invalid" (click)="savePassword()" class="btn btn-primary">Save</button>
      </form>
  </div>
</div>
